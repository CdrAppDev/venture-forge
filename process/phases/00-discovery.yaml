id: "00-discovery"
name: "Opportunity Discovery"
version: "1.0.0"

purpose: "Discover funded problems across all verticals and score them for venture potential"

prerequisites: []
# This is the first phase - no prerequisites

inputs:
  - name: "venture_profile"
    description: "Platform-level venture profile defining scope, scan parameters, and exclusion criteria"
    location: "inputs/venture-profile.md"
    required: true
    note: "Lives in venture-forge root, not a project directory. Describes what kinds of ventures to look for."

  - name: "research_results"
    description: "Claude Deep Research results on funding landscape"
    location: "discovery/{run_id}/research/00-discovery/"
    required: true
    note: "User runs research prompts manually, uploads results here"

outputs:
  - name: "discovery_report"
    description: "Scored and ranked funding opportunities with rationale"
    location: "discovery/{run_id}/discovery-report.md"
    format: "markdown"

  - name: "opportunity_profiles"
    description: "Structured profiles of each discovered opportunity"
    location: "discovery/{run_id}/opportunities/"
    format: "yaml"
    note: "One file per opportunity (e.g., healthcare-cybersecurity.yaml)"

  - name: "funder_criteria_files"
    description: "Generated funder-criteria.md files ready for Phase 01"
    location: "discovery/{run_id}/outputs/{opportunity-slug}/funder-criteria.md"
    format: "markdown"
    note: "Each file matches the format Phase 01 expects. Copy to {project}/inputs/ to start Phase 01."

research_requirements:
  - id: "funded_problems"
    description: "Problems that funders are paying to solve across all verticals"
    citation_minimum: 3
    note: "Research covers 11 funding source types per vertical: federal, state, VC/angel, accelerators, family offices, corporate, foundations, government contracts, university, competitions, policy signals"

skills:
  generate_prompts:
    skill: "vf-discovery-generate-prompts"
    when: "before_research"
    description: "Generate per-vertical prompts to discover funded problems across 11 funding source types"
    output: "discovery/{run_id}/research/00-discovery-prompts.md"

  process_research:
    skill: "vf-discovery-process-research"
    when: "after_research"
    description: "Process research into funded problem profiles and funder-criteria.md files"
    outputs:
      - "discovery_report"
      - "opportunity_profiles"
      - "funder_criteria_files"

  score:
    skill: "vf-discovery-score"
    when: "after_processing"
    description: "Score and rank funded problems on certainty, clarity, timing, magnitude, competition, and venture potential"
    output: "discovery/{run_id}/discovery-report.md"

  validate:
    skill: "vf-discovery-validate"
    when: "before_gate"
    description: "Verify discovery outputs before human review"
    output: "discovery/{run_id}/validation-report.md"

  gate_review:
    skill: "vf-gate-review"
    when: "gate_review"
    description: "Present ranked opportunities for human selection. Human approves/rejects each opportunity individually."

gate:
  question: "Did we discover funded problems worth pursuing?"

  criteria:
    - id: "opportunities_found"
      description: "At least 2 scored opportunities identified"
      required: true

    - id: "problem_clarity"
      description: "Funded problems are well-defined with identifiable affected populations"
      required: true

    - id: "evidence_quality"
      description: "Each opportunity backed by cited funding sources with verified URLs"
      required: true

    - id: "actionability"
      description: "Generated funder-criteria.md files contain sufficient detail to start Phase 01"
      required: true

  outcomes:
    proceed:
      description: "Opportunities approved. Create project directories and start Phase 01 for each."
      next_phase: "01-capital"
      note: "1-to-many: human selects which opportunities to pursue. Each approved opportunity becomes a separate project entering Phase 01."

    revise:
      description: "Opportunities found but need refinement"
      action: "Adjust scan parameters, re-run research with narrower or broader scope"

    kill:
      description: "No viable opportunities match the venture profile"
      action: "Revise venture profile or wait for new funding cycles"

learnings: []
