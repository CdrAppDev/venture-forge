---
name: vf-discovery-process-research
description: >
  Process Claude Deep Research results into structured opportunity profiles
  and funder-criteria.md files. Reads discovery research, clusters related
  funding sources into opportunity bundles, generates venture concepts, and
  produces Phase 01-ready funder criteria files. Activate after discovery
  research is uploaded.
license: MIT
metadata:
  version: "1.0.0"
  phase: 00-discovery
  when: after_research
---

# Opportunity Discovery: Process Research

Process raw research results into structured opportunity profiles and generate `funder-criteria.md` files that feed directly into Phase 01 (Capital Thesis).

## Prerequisites

- Discovery prompts generated by `vf-discovery-generate-prompts`
- Research results uploaded to `discovery/{run_id}/research/00-discovery/`
- Venture profile at `inputs/venture-profile.md`

## Workflow

1. **Read** venture profile from `inputs/venture-profile.md`
2. **Read** all research results from `discovery/{run_id}/research/00-discovery/`
3. **Extract** individual funding sources from research — each with program name, agency/organization, amount, eligibility, timeline, vertical alignment
4. **Cluster** related funding sources into opportunity bundles — group sources that point to the same venture concept (e.g., RHTP + SCRA + CISA → "healthcare cybersecurity for rural hospitals")
5. **Generate** a venture concept for each bundle — what software product would win this funding, who are the customers, what problem does it solve
6. **Apply** venture profile constraints — eliminate opportunities that violate exclusion criteria
7. **Generate** `funder-criteria.md` for each viable opportunity in the format Phase 01 expects
8. **Generate** structured opportunity profile YAML for each opportunity
9. **Save** outputs to `discovery/{run_id}/`

## Output Files

### Per opportunity:

**`discovery/{run_id}/opportunities/{slug}.yaml`**
```yaml
id: "{slug}"
name: "{Opportunity Name}"
venture_concept: "{One-line description of the software venture}"
verticals: ["{vertical1}", "{vertical2}"]
funding_sources:
  - name: "{Program Name}"
    type: "{grant|equity|accelerator|corporate}"
    amount: "{range}"
    timeline: "{application timeline}"
    confidence: "{high|medium|low}"
    source_url: "{URL}"
total_funding_potential: "{estimated total across sources}"
profile_alignment:
  verticals: "{match assessment}"
  geography: "{match assessment}"
  capabilities: "{match assessment}"
  constraints: "{any conflicts}"
```

**`discovery/{run_id}/outputs/{slug}/funder-criteria.md`**

Format must match what Phase 01 expects (see `references/funder-criteria-template.md`):
- Known Funding Sources with details
- Target Vertical
- Geographic Focus
- Known Context (problem indicators, market signals)

### Aggregate:

**`discovery/{run_id}/discovery-report.md`** (draft — finalized by vf-discovery-score)

## Quality Checklist

- [ ] Every funding source from research is accounted for (included in an opportunity or excluded with reason)
- [ ] Opportunity bundles group genuinely related funding sources, not arbitrary clusters
- [ ] Venture concepts are plausible software products, not vague themes
- [ ] Exclusion criteria from venture profile are applied (no hardware, no non-profit-only, etc.)
- [ ] Each funder-criteria.md contains the minimum fields Phase 01 needs
- [ ] All citations from research are preserved in opportunity profiles
- [ ] Opportunities that share funding sources are noted (e.g., Phase 12 overlap)

See `references/funder-criteria-template.md` for the Phase 01 input format.
