---
name: vf-discovery-process-research
description: >
  Process Claude Deep Research results into structured opportunity profiles
  and funder-criteria.md files. Reads discovery research, clusters related
  funding sources into funded problem bundles, identifies the problems
  funders are paying to solve, and produces Phase 01-ready funder criteria
  files. Activate after discovery research is uploaded.
license: MIT
metadata:
  version: "1.0.0"
  phase: 00-discovery
  when: after_research
---

# Opportunity Discovery: Process Research

Process raw research results into structured opportunity profiles and generate `funder-criteria.md` files that feed directly into Phase 01 (Capital Thesis).

## Prerequisites

- Discovery prompts generated by `vf-discovery-generate-prompts`
- Research results uploaded to `discovery/{run_id}/research/00-discovery/`
- Venture profile at `inputs/venture-profile.md`

## Workflow

1. **Read** venture profile from `inputs/venture-profile.md`
2. **Read** all research results from `discovery/{run_id}/research/00-discovery/`
3. **Extract** individual funding sources from research — each with program name, agency/organization, amount, eligibility, timeline, vertical alignment
4. **Cluster** related funding sources into funded problem bundles — group sources that target the same problem (e.g., RHTP + SCRA + CISA → "rural hospitals lack cybersecurity protection")
5. **Articulate** the funded problem for each bundle — what problem are funders paying to solve, who is affected, what is the impact
6. **Apply** exclusion criteria from venture profile
7. **Generate** `funder-criteria.md` for each opportunity in the format Phase 01 expects
8. **Generate** structured opportunity profile YAML for each opportunity
9. **Save** outputs to `discovery/{run_id}/`

## Output Files

### Per opportunity:

**`discovery/{run_id}/opportunities/{slug}.yaml`**
```yaml
id: "{slug}"
name: "{Opportunity Name}"
funded_problem: "{One-line description of the problem funders are paying to solve}"
verticals: ["{vertical1}", "{vertical2}"]
funding_sources:
  - name: "{Program Name}"
    type: "{grant|equity|accelerator|corporate}"
    amount: "{range}"
    timeline: "{application timeline}"
    confidence: "{high|medium|low}"
    source_url: "{URL}"
total_funding_potential: "{estimated total across sources}"
profile_alignment:
  verticals: "{match assessment}"
  geography: "{match assessment}"
  capabilities: "{match assessment}"
  constraints: "{any conflicts}"
```

**`discovery/{run_id}/outputs/{slug}/funder-criteria.md`**

Format must match what Phase 01 expects (see `references/funder-criteria-template.md`):
- Known Funding Sources with details
- Target Vertical
- Geographic Focus
- Known Context (problem indicators, market signals)

### Aggregate:

**`discovery/{run_id}/discovery-report.md`** (draft — finalized by vf-discovery-score)

## Quality Checklist

- [ ] Every funding source from research is accounted for (included in an opportunity or excluded with reason)
- [ ] Opportunity bundles group genuinely related funding sources, not arbitrary clusters
- [ ] Funded problems are specific and well-articulated, not vague themes
- [ ] Exclusion criteria from venture profile are applied
- [ ] Each funder-criteria.md contains the minimum fields Phase 01 needs
- [ ] All citations from research are preserved in opportunity profiles
- [ ] Opportunities that share funding sources are noted (e.g., Phase 12 overlap)

See `references/funder-criteria-template.md` for the Phase 01 input format.
